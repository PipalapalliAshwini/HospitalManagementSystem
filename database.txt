/*Doctor related stuff*/

CREATE TABLE "T_AS_DOCTOR" 
   (	"DOCTOR_ID" NUMBER(10,0) NOT NULL ENABLE, 
	"DOCTOR_NAME" VARCHAR2(50 BYTE) NOT NULL ENABLE, 
	"DOC_CITY" VARCHAR2(25 BYTE), 
	"DOC_PHONE" NUMBER(10,0) NOT NULL ENABLE, 
	"DOC_SPECIALIZATION" VARCHAR2(20 BYTE) NOT NULL ENABLE, 
	"DEPARTMENT_ID" NUMBER(10,0), 
	 PRIMARY KEY ("DOCTOR_ID"));
   
Create sequence doc_sequence start with 3
increment by 1
minvalue 1
maxvalue 10000;

insert into T_AS_DOCTOR (DOCTOR_ID, DOCTOR_NAME, DOC_CITY, DOC_PHONE, DOC_SPECIALIZATION) values (00001, 'AHMED PASHA', 'HYDERABAD', 999999999, 'SURGEON');
insert into T_AS_DOCTOR (DOCTOR_ID, DOCTOR_NAME, DOC_CITY, DOC_PHONE, DOC_SPECIALIZATION, DEPARTMENT_ID) values (00002, 'MD GOUSE GIR', 'HYDERABAD', 8888888888, 'PHYSICIAN', 301);


select * from T_AS_DOCTOR where DOCTOR_ID=1;

COMMIT;

ALTER TABLE T_AS_DOCTOR
  ADD DEPARTMENT_ID NUMBER(10);


/*Patient related */


create table T_AS_PATIENT (PATIENT_ID NUMBER(10) NOT NULL PRIMARY KEY, PATIENT_NAME VARCHAR2(50) NOT NULL, GENDER VARCHAR2(8), DOB DATE, DOJ DATE, BLOOD_GROUP CHAR(2));

ALTER TABLE T_AS_PATIENT
  ADD PATIENT_CATEGORY VARCHAR2(10);
  
ALTER TABLE T_AS_PATIENT
  ADD PATIENT_INSURED VARCHAR2(4);
  
COMMIT;

create sequence patient_sequence start with 1
increment by 1
minvalue 1
maxvalue 10000;

/* Insurance table */
create table T_AS_INSURANCE (INSURANCE_NUM NUMBER(10) NOT NULL PRIMARY KEY, INSURANCE_AGENCY VARCHAR2(50) NOT NULL, INSURANCE_VALIDITY_END_DATE DATE NOT NULL, PATIENT_ID NUMBER(10));
--CONSTRAINT fk_T_AS_PATIENT
--    FOREIGN KEY (PATIENT_ID)
--    REFERENCES T_AS_PATIENT(PATIENT_ID))


CREATE INDEX T_AS_INSURANCE_fk_index ON T_AS_INSURANCE(PATIENT_ID);

commit;

CREATE SEQUENCE insurance_seq START WITH 1;
    
insert into T_AS_INSURANCE (INSURANCE_NUM,INSURANCE_AGENCY,INSURANCE_VALIDITY_END_DATE, PATIENT_ID) values (1233, 'adasd', '01-JAN-2016', patient_sequence.nextval);


select * from T_AS_INSURANCE where PATIENT_ID = 1;


ALTER TABLE T_AS_INSURANCE
DROP CONSTRAINT fk_T_AS_PATIENT;


ALTER TABLE T_AS_INSURANCE DROP COLUMN PATIENT_ID;


ALTER TABLE T_AS_INSURANCE
  ADD PATIENT_ID NUMBER(10);
  
  
create table T_AS_DEPARTMENT (department_id NUMBER(4) PRIMARY KEY, HOD VARCHAR2(25), APPROX_TIME_FOR_TREATMENT VARCHAR(10), SPECIALIZATION VARCHAR2(15) );

ALTER TABLE T_AS_DEPARTMENT
  ADD DEPARTMENT_NAME VARCHAR2(20);
  
ALTER TABLE T_AS_DEPARTMENT
  ADD DEPARTMENT_PRIMARY_CONTACT NUMBER(10);  

COMMIT;

create sequence DEPARTMENT_sequence start with 1
increment by 1
minvalue 1
maxvalue 10000;

INSERT INTO T_AS_DEPARTMENT (department_id, HOD,APPROX_TIME_FOR_TREATMENT,SPECIALIZATION,DEPARTMENT_NAME,DEPARTMENT_PRIMARY_CONTACT) 
values (DEPARTMENT_sequence.nextval, 'DEVENDER RAO', '45', 'BONES', 'ORTHO', 9999999999); 



select * from T_AS_DEPARTMENT where department_id = 1;